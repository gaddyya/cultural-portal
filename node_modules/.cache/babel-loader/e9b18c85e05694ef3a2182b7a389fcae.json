{"ast":null,"code":"import _defineProperty from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/mac/Desktop/study/RollingScopes/codejam5/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/mac/Desktop/study/RollingScopes/codejam5/src/components/search/search.js\";\nimport React, { Component } from 'react';\nimport SearchInput, { createFilter } from 'react-search-input';\nimport authors from '../../data.json';\nimport './search.css';\nimport { Link } from \"react-router-dom\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.selectAuthor = function (e) {\n      var target = e.target;\n\n      if (target.tagName === 'FIGURE') {\n        _this.props.selectName(target.getAttribute(\"name\"));\n\n        localStorage.setItem('name', target.getAttribute(\"name\"));\n      } else {\n        _this.props.selectName(target.parentElement.getAttribute(\"name\"));\n\n        localStorage.setItem('name', target.parentElement.getAttribute(\"name\"));\n      }\n    };\n\n    _this.state = {\n      searchTerm: ''\n    };\n    _this.searchUpdated = _this.searchUpdated.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var authorsNameList = Object.keys(authors[this.props.lang].autors).map(function (i) {\n        var _ref;\n\n        return _ref = {}, _defineProperty(_ref, _this2.props.lang, authors[_this2.props.lang].autors[i]), _defineProperty(_ref, \"key\", i), _ref;\n      });\n      var KEYS_TO_FILTERS = [\"\".concat(this.props.lang, \".name\"), \"\".concat(this.props.lang, \".years\"), \"\".concat(this.props.lang, \".birthdayPlace\")];\n      var filteredAuthors = authorsNameList.filter(createFilter(this.state.searchTerm, KEYS_TO_FILTERS));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(SearchInput, {\n        className: \"search-input\",\n        onChange: this.searchUpdated,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"authors-container\",\n        onClick: this.selectAuthor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, filteredAuthors.map(function (item, index) {\n        return React.createElement(Link, {\n          key: index,\n          to: \"/autor\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, React.createElement(\"figure\", {\n          className: \"author-info\",\n          name: item.key,\n          key: item[_this2.props.lang].name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"author-foto\",\n          src: process.env.PUBLIC_URL + item[_this2.props.lang].image,\n          alt: item[_this2.props.lang].name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }), React.createElement(\"figcaption\", {\n          className: \"author-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, item[_this2.props.lang].name), React.createElement(\"p\", {\n          className: \"author-description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, item[_this2.props.lang].description)));\n      })));\n    }\n  }, {\n    key: \"searchUpdated\",\n    value: function searchUpdated(term) {\n      this.setState({\n        searchTerm: term\n      });\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/mac/Desktop/study/RollingScopes/codejam5/src/components/search/search.js"],"names":["React","Component","SearchInput","createFilter","authors","Link","Search","props","selectAuthor","e","target","tagName","selectName","getAttribute","localStorage","setItem","parentElement","state","searchTerm","searchUpdated","bind","authorsNameList","Object","keys","lang","autors","map","i","KEYS_TO_FILTERS","filteredAuthors","filter","item","index","key","name","process","env","PUBLIC_URL","image","description","term","setState"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,IAAqBC,YAArB,QAAwC,oBAAxC;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAO,cAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;;IAEMC,M;;;;;AACJ,kBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,gFAAMA,KAAN;;AADkB,UAyCpBC,YAzCoB,GAyCL,UAACC,CAAD,EAAO;AACpB,UAAMC,MAAM,GAAGD,CAAC,CAACC,MAAjB;;AACA,UAAIA,MAAM,CAACC,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,cAAKJ,KAAL,CAAWK,UAAX,CAAsBF,MAAM,CAACG,YAAP,CAAoB,MAApB,CAAtB;;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BL,MAAM,CAACG,YAAP,CAAoB,MAApB,CAA7B;AACD,OAHD,MAGO;AACL,cAAKN,KAAL,CAAWK,UAAX,CAAsBF,MAAM,CAACM,aAAP,CAAqBH,YAArB,CAAkC,MAAlC,CAAtB;;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BL,MAAM,CAACM,aAAP,CAAqBH,YAArB,CAAkC,MAAlC,CAA7B;AACD;AACF,KAlDmB;;AAElB,UAAKI,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAGA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,uDAArB;AALkB;AAMnB;;;;6BAES;AAAA;;AACR,UAAMC,eAAe,GAAIC,MAAM,CAACC,IAAP,CAAYnB,OAAO,CAAC,KAAKG,KAAL,CAAWiB,IAAZ,CAAP,CAAyBC,MAArC,CAAD,CAA+CC,GAA/C,CAAmD,UAAAC,CAAC,EAAI;AAAA;;AAC9E,gDACG,MAAI,CAACpB,KAAL,CAAWiB,IADd,EACqBpB,OAAO,CAAC,MAAI,CAACG,KAAL,CAAWiB,IAAZ,CAAP,CAAyBC,MAAzB,CAAgCE,CAAhC,CADrB,gCAEOA,CAFP;AAID,OALuB,CAAxB;AAMA,UAAMC,eAAe,GAAG,WAAI,KAAKrB,KAAL,CAAWiB,IAAf,sBAA+B,KAAKjB,KAAL,CAAWiB,IAA1C,uBAA2D,KAAKjB,KAAL,CAAWiB,IAAtE,oBAAxB;AACA,UAAMK,eAAe,GAAGR,eAAe,CAACS,MAAhB,CAAuB3B,YAAY,CAAC,KAAKc,KAAL,CAAWC,UAAZ,EAAwBU,eAAxB,CAAnC,CAAxB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAa,QAAA,SAAS,EAAC,cAAvB;AAAsC,QAAA,QAAQ,EAAE,KAAKT,aAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAmC,QAAA,OAAO,EAAE,KAAKX,YAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCqB,eAAe,CAACH,GAAhB,CAAoB,UAACK,IAAD,EAAOC,KAAP,EAAiB;AACpC,eACE,oBAAC,IAAD;AAAM,UAAA,GAAG,EAAEA,KAAX;AAAkB,UAAA,EAAE,EAAC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAQ,UAAA,SAAS,EAAC,aAAlB;AAAgC,UAAA,IAAI,EAAED,IAAI,CAACE,GAA3C;AAAgD,UAAA,GAAG,EAAEF,IAAI,CAAC,MAAI,CAACxB,KAAL,CAAWiB,IAAZ,CAAJ,CAAsBU,IAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAA6B,UAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAA0BN,IAAI,CAAC,MAAI,CAACxB,KAAL,CAAWiB,IAAZ,CAAJ,CAAsBc,KAAlF;AAA0F,UAAA,GAAG,EAAEP,IAAI,CAAC,MAAI,CAACxB,KAAL,CAAWiB,IAAZ,CAAJ,CAAsBU,IAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE;AAAY,UAAA,SAAS,EAAC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqCH,IAAI,CAAC,MAAI,CAACxB,KAAL,CAAWiB,IAAZ,CAAJ,CAAsBU,IAA3D,CAFF,EAGE;AAAG,UAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmCH,IAAI,CAAC,MAAI,CAACxB,KAAL,CAAWiB,IAAZ,CAAJ,CAAsBe,WAAzD,CAHF,CADF,CADF;AASD,OAVA,CADD,CAFF,CADF;AAkBD;;;kCAEcC,I,EAAM;AACnB,WAAKC,QAAL,CAAc;AAACvB,QAAAA,UAAU,EAAEsB;AAAb,OAAd;AACD;;;;EAxCkBvC,S;;AAsDrB,eAAeK,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport SearchInput, {createFilter} from 'react-search-input';\nimport authors from '../../data.json';\nimport './search.css';\nimport { Link } from \"react-router-dom\";\n\nclass Search extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      searchTerm: '',\n    }\n    this.searchUpdated = this.searchUpdated.bind(this);\n  }\n \n  render () {\n    const authorsNameList = (Object.keys(authors[this.props.lang].autors)).map(i => {\n      return {\n        [this.props.lang]: authors[this.props.lang].autors[i],\n        key: i\n      }\n    });\n    const KEYS_TO_FILTERS = [`${this.props.lang}.name`, `${this.props.lang}.years`, `${this.props.lang}.birthdayPlace`];\n    const filteredAuthors = authorsNameList.filter(createFilter(this.state.searchTerm, KEYS_TO_FILTERS))\n    return (\n      <div>\n        <SearchInput className=\"search-input\" onChange={this.searchUpdated} />\n        <div className=\"authors-container\" onClick={this.selectAuthor}>\n        {filteredAuthors.map((item, index) => {\n          return (\n            <Link key={index} to=\"/autor\">\n              <figure className=\"author-info\" name={item.key} key={item[this.props.lang].name}>\n                <img className=\"author-foto\" src={process.env.PUBLIC_URL + (item[this.props.lang].image)} alt={item[this.props.lang].name}></img>\n                <figcaption className=\"author-name\">{item[this.props.lang].name}</figcaption>\n                <p className=\"author-description\">{item[this.props.lang].description}</p>\n              </figure>\n            </Link>\n          )\n        })}\n        </div>\n      </div>\n    )\n  }\n \n  searchUpdated (term) {\n    this.setState({searchTerm: term})\n  }\n\n  selectAuthor = (e) => {\n    const target = e.target;\n    if (target.tagName === 'FIGURE') {\n      this.props.selectName(target.getAttribute(\"name\"));\n      localStorage.setItem('name', target.getAttribute(\"name\"))\n    } else {\n      this.props.selectName(target.parentElement.getAttribute(\"name\"));\n      localStorage.setItem('name', target.parentElement.getAttribute(\"name\"))\n    }\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}