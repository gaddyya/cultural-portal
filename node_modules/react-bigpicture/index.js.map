{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///./src/bigpicture.js","webpack:///external \"react-dom\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","BigPictureWrapper","props","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","zoomHandle","type","options","el","current","imgSrc","src","vidSrc","ytSrc","split","vimeoSrc","vimeoID","length","_bigpicture2","default","createRef","Component","createElement","className","onClick","ref","title","caption","style","display","children","defaultProps","propTypes","PropTypes","string","isRequired","require","initialized","container","displayElement","displayImage","displayVideo","iframeContainer","iframeSiteVid","closeButton","siteVidID","isLoading","checkVidTimeout","loadingIcon","captionText","captionContent","captionHideButton","isOpen","isClosing","imgCache","cached","remoteImage","animationStart","animationEnd","noLoader","global","window","doc","document","appendEl","createEl","removeEl","htmlInner","pointerEventsAuto","cHeight","cWidth","listenFor","timeout","setTimeout","clearTimeout","getRect","rect","ReactDOM","findDOMNode","getBoundingClientRect","webkitify","left","width","top","height","checkVid","readyState","open","error","toggleLoadingIcon","bool","changeCSS","offsetTop","offsetLeft","parentElement","err","removeContainer","alert","push","close","e","target","clickEls","blur","indexOf","cssText","body","removeAttribute","element","newStyle","prop","val","propVal","createCloseButton","css","webkitifyKeyframes","head","id","onclick","autoplay","controls","loop","allowFullscreen","onload","onerror","keyCode","contains","stopPropagation","focus","initialize","getAttribute","isYoutube","url","createIframe","tagName","getComputedStyle","backgroundImage","replace"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport BigPicture from './bigpicture.js';\n\nclass BigPictureWrapper extends React.Component {\n\tstatic defaultProps = {\n\t\ttype: 'image'\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.el = React.createRef();\n\t}\n\n\tzoomHandle = () => {\n\t\tconst { type } = this.props;\n\t\tlet options = {\n\t\t\tel: this.el.current\n\t\t};\n\n\t\tswitch (type) {\n\t\t\tcase 'image':\n\t\t\t\toptions.imgSrc = this.props.src;\n\t\t\t\tbreak;\n\t\t\tcase 'video':\n\t\t\t\toptions.vidSrc = this.props.src;\n\t\t\t\tbreak;\n\t\t\tcase 'youtube':\n\t\t\t\toptions.ytSrc = this.props.src.split('=')[1];\n\t\t\t\tbreak;\n\t\t\tcase 'vimeo':\n\t\t\t\toptions.vimeoSrc = vimeoID[vimeoID.length - 1];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\toptions.imgSrc = this.props.src;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tBigPicture(options);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"bigpicture link picture\"\n\t\t\t\tonClick={this.zoomHandle}\n\t\t\t\tref={this.el}\n\t\t\t\ttitle={this.props.caption}\n\t\t\t\tstyle={{ display: 'inline-block' }}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nBigPictureWrapper.propTypes = {\n\tsrc: PropTypes.string.isRequired,\n\tcaption: PropTypes.string,\n\ttype: PropTypes.string.isRequired\n};\n\nexport default BigPictureWrapper;\n","module.exports = require(\"react\");","module.exports = require(\"prop-types\");","// BigPicture.js | license MIT | henrygd.me/bigpicture\nimport ReactDOM from 'react-dom';\n\nvar // assign window object to variable\n\tglobal = window,\n\t// trigger element used to open popup\n\tel,\n\t// set to true after first interaction\n\tinitialized,\n\t// container element holding html needed for script\n\tcontainer,\n\t// currently active display element (image, video, youtube / vimeo iframe container)\n\tdisplayElement,\n\t// popup image element\n\tdisplayImage,\n\t// popup video element\n\tdisplayVideo,\n\t// container element to hold youtube / vimeo iframe\n\tiframeContainer,\n\t// iframe to hold youtube / vimeo player\n\tiframeSiteVid,\n\t// store requested image source\n\timgSrc,\n\t// button that closes the container\n\tcloseButton,\n\t// youtube / vimeo video id\n\tsiteVidID,\n\t// keeps track of loading icon display state\n\tisLoading,\n\t// timeout to check video status while loading\n\tcheckVidTimeout,\n\t// loading icon element\n\tloadingIcon,\n\t// caption element\n\tcaption,\n\t// caption content element\n\tcaptionText,\n\t// store caption content\n\tcaptionContent,\n\t// hide caption button element\n\tcaptionHideButton,\n\t// open state for container element\n\tisOpen,\n\t// used during close animation to avoid triggering timeout twice\n\tisClosing,\n\t// array of prev viewed image urls to check if cached before showing loading icon\n\timgCache,\n\t// store whether remote image is already cached on request\n\tcached,\n\t// store whether image requested is remote or local\n\tremoteImage,\n\t// store animation opening callbacks\n\tanimationStart,\n\tanimationEnd,\n\t// set to true if user wants to hide loading icon\n\tnoLoader,\n\t// Save bytes in the minified version\n\tdoc = document,\n\tappendEl = 'appendChild',\n\tcreateEl = 'createElement',\n\tremoveEl = 'removeChild',\n\thtmlInner = 'innerHTML',\n\tpointerEventsAuto = 'pointer-events:auto',\n\tcHeight = 'clientHeight',\n\tcWidth = 'clientWidth',\n\tlistenFor = 'addEventListener',\n\ttimeout = global.setTimeout,\n\tclearTimeout = global.clearTimeout;\n\nconst big = function(options) {\n\t// initialize called on initial open to create elements / style / event handlers\n\tinitialized || initialize();\n\n\t// clear currently loading stuff\n\tif (isLoading) {\n\t\tclearTimeout(checkVidTimeout);\n\t\tremoveContainer();\n\t}\n\n\t// store video id if youtube / vimeo video is requested\n\tsiteVidID = options.ytSrc || options.vimeoSrc;\n\n\t// store optional callbacks\n\tanimationStart = options.animationStart;\n\tanimationEnd = options.animationEnd;\n\n\t// store whether user requests to hide loading icon\n\tnoLoader = options.noLoader;\n\n\t// set trigger element\n\tel = options.el;\n\n\t// wipe existing remoteImage state\n\tremoteImage = false;\n\n\t// set caption if provided\n\tcaptionContent = el.getAttribute('title');\n\tif (captionContent) {\n\t\tcaptionText[htmlInner] = captionContent;\n\t\tcontainer[appendEl](caption);\n\t}\n\n\t// if vimeo or youtube video\n\tif (siteVidID) {\n\t\ttoggleLoadingIcon(true);\n\t\tdisplayElement = iframeContainer;\n\t\tcreateIframe(!!options.ytSrc);\n\t} else if (options.imgSrc) {\n\t\t// if remote image\n\t\tremoteImage = true;\n\t\timgSrc = options.imgSrc;\n\t\tcached = ~imgCache.indexOf(imgSrc);\n\t\t!cached && toggleLoadingIcon(true);\n\t\tdisplayElement = displayImage;\n\t\tdisplayElement.src = imgSrc;\n\t} else if (options.vidSrc) {\n\t\t// if direct video link\n\t\ttoggleLoadingIcon(true);\n\t\tdisplayElement = displayVideo;\n\t\tdisplayElement.src = options.vidSrc;\n\t\tcheckVid();\n\t} else {\n\t\t// local image / background image already loaded on page\n\t\tdisplayElement = displayImage;\n\t\t// get img source or element background image\n\t\tdisplayElement.src =\n\t\t\tel.tagName === 'IMG'\n\t\t\t\t? el.src\n\t\t\t\t: global.getComputedStyle(el).backgroundImage.replace(/^url|[\\(|\\)|'|\"]/g, '');\n\t}\n\n\t// add container to page\n\tcontainer[appendEl](displayElement);\n\tdoc.body[appendEl](container);\n};\n\n// create all needed methods / store dom elements on first use\nfunction initialize() {\n\t// return close button elements\n\tfunction createCloseButton() {\n\t\tvar el = doc[createEl]('button');\n\t\tel.className = 'bp-x';\n\t\tel[htmlInner] = '&#215;';\n\t\treturn el;\n\t}\n\n\t// imgCache holds displayed image urls to prevent loader on cached images\n\timgCache = [];\n\n\t// add style\n\t// if you want to tweak, grab from doc head & run through beautifier\n\tvar style = doc[createEl]('STYLE');\n\tstyle[htmlInner] =\n\t\t'#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,.bp-x,#bp_loader{position:absolute;right:0}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;pointer-events:none;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:-webkit-flex;display:flex;margin:0;cursor:wait;z-index:9}#bp_loader svg{width:40%;max-height:40%;margin:auto;' +\n\t\twebkitify('animation:', 'ldr .7s infinite linear;') +\n\t\t'}' +\n\t\twebkitifyKeyframes('keyframes ldr{to{' + webkitify('transform:', 'rotate(1turn);') + '}}') +\n\t\t'#bp_container img,#bp_sv,#bp_vid{max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{width:171vh}#bp_caption{font-size:.9em;font-family:Arial;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}.bp-x{font-family:Arial;top:0;cursor:pointer;opacity:.8;font-size:3em;padding:0 .3em;color:#fff;background:transparent;border:0;text-shadow:0 0 2px #000}#bp_caption .bp-x{left:2%;top:auto;right:auto;bottom:100%;padding:0 .6em;background:#d74040;border-radius:2px 2px 0 0;font-size:2.3em;text-shadow:none}.bp-x:hover,.bp-x:focus{opacity:1}.bp-x:active{outline:0}@media (max-aspect-ratio:9/5){#bp_sv{height:53vw}}';\n\tdoc.head[appendEl](style);\n\n\t// create container element\n\tcontainer = doc[createEl]('DIV');\n\tcontainer.id = 'bp_container';\n\tcontainer.onclick = close;\n\tcloseButton = createCloseButton();\n\tcontainer[appendEl](closeButton);\n\n\t// create display image element\n\tdisplayImage = doc[createEl]('IMG');\n\n\t// create display video element\n\tdisplayVideo = doc[createEl]('VIDEO');\n\tdisplayVideo.id = 'bp_vid';\n\tdisplayVideo.autoplay = true;\n\tdisplayVideo.controls = true;\n\tdisplayVideo.loop = true;\n\n\t// create caption elements\n\tcaption = doc[createEl]('DIV');\n\tcaption.id = 'bp_caption';\n\tcaptionHideButton = createCloseButton();\n\tcaptionHideButton.onclick = function() {\n\t\tchangeCSS(caption, 'opacity:0');\n\t\ttimeout(function() {\n\t\t\tcaptionContent = false;\n\t\t\tcontainer[removeEl](caption);\n\t\t}, 300);\n\t};\n\tcaption[appendEl](captionHideButton);\n\tcaptionText = doc[createEl]('SPAN');\n\tcaption[appendEl](captionText);\n\n\t// create loading icon element\n\tloadingIcon = doc[createEl]('DIV');\n\tloadingIcon.id = 'bp_loader';\n\tloadingIcon[htmlInner] =\n\t\t'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 399 399\"><path d=\"M341 58.5C303 20.8 253 0 199.6 0 146.4 0 96.2 20.8 58.5 58.5 20.8 96.2 0 146.5 0 199.7 0 253 20.8 303.2 58.5 341c37.7 37.6 88 58.4 141.2 58.4 53.3 0 103.5-20.8 141.2-58.5 37.6-37.8 58.4-88 58.4-141.3 0-53.3-20.8-103.5-58.5-141.2zm-13 12.8c34.3 34.3 53.2 80 53.2 128.4h-41c0-77.4-63-140.4-140.5-140.4-4.6 0-9 .2-13.6.7V18.7c4.6-.4 9-.5 13.7-.5 48.5 0 94 18.8 128.4 53zM199.8 322c-67.4 0-122.2-55-122.2-122.3S132.3 77.5 199.7 77.5 322 132.3 322 199.7 267 322 199.6 322z\"/></svg>';\n\n\t// create youtube / vimeo container\n\tiframeContainer = doc[createEl]('DIV');\n\tiframeContainer.id = 'bp_sv';\n\n\t// create iframe to hold youtube / vimeo player\n\tiframeSiteVid = doc[createEl]('IFRAME');\n\tiframeSiteVid.allowFullscreen = true;\n\tiframeSiteVid.onload = open;\n\tchangeCSS(iframeSiteVid, 'border:0px;height:100%;width:100%');\n\tiframeContainer[appendEl](iframeSiteVid);\n\n\t// display image bindings for image load and error\n\tdisplayImage.onload = open;\n\tdisplayImage.onerror = open.bind(null, 'image');\n\n\t// adjust loader position on window resize\n\tglobal[listenFor]('resize', function() {\n\t\tisLoading && toggleLoadingIcon(true);\n\t});\n\n\t// close container on escape key press\n\tdoc[listenFor]('keyup', function(e) {\n\t\te.keyCode === 27 && isOpen && close(container);\n\t});\n\n\t// trap focus within conainer while open\n\tdoc[listenFor](\n\t\t'focus',\n\t\tfunction(e) {\n\t\t\tif (isOpen && !container.contains(e.target)) {\n\t\t\t\te.stopPropagation();\n\t\t\t\tcloseButton.focus();\n\t\t\t}\n\t\t},\n\t\ttrue\n\t);\n\n\t// all done\n\tinitialized = true;\n}\n\n// return transform style to make full size display el match trigger el size\nfunction getRect() {\n\t// var elWidth = ReactDOM.findDOMNode(this.refs.the_input).getBoundingClientRect().width\n\t// var rect = el.getBoundingClientRect();\n\tvar rect = ReactDOM.findDOMNode(el).getBoundingClientRect();\n\n\tvar leftOffset = rect.left - (container[cWidth] - rect.width) / 2;\n\tvar centerTop = rect.top - (container[cHeight] - rect.height) / 2;\n\tvar scaleWidth = el[cWidth] / displayElement[cWidth];\n\tvar scaleHeight = el[cHeight] / displayElement[cHeight];\n\treturn webkitify(\n\t\t'transform:',\n\t\t'translate3D(' + leftOffset + 'px, ' + centerTop + 'px, 0) scale3D(' + scaleWidth + ', ' + scaleHeight + ', 0);'\n\t);\n}\n\n// create youtube / vimeo video iframe\nfunction createIframe(isYoutube) {\n\t// create appropriate url for youtube or vimeo\n\tvar url = isYoutube\n\t\t? 'www.youtube.com/embed/' + siteVidID + '?enablejsapi=1&html5=1&rel=0&showinfo=0&'\n\t\t: 'player.vimeo.com/video/' + siteVidID + '?';\n\n\t// set iframe src to url\n\tiframeSiteVid.src = 'https://' + url + 'autoplay=1';\n}\n\n// timeout to check video status while loading\n// onloadeddata event doesn't seem to fire in less up-to-date browsers like midori & epiphany\nfunction checkVid() {\n\tif (displayElement.readyState === 4) open();\n\telse if (displayVideo.error) open('video');\n\telse checkVidTimeout = timeout(checkVid, 35);\n}\n\n// hide / show loading icon\nfunction toggleLoadingIcon(bool) {\n\t// don't show loading icon if noLoader is specified\n\tif (noLoader) return;\n\t// bool is true if we want to show icon, false if we want to remove\n\t// change style to match trigger element dimensions if we want to show\n\tbool &&\n\t\tchangeCSS(\n\t\t\tloadingIcon,\n\t\t\t'top:' +\n\t\t\t\tel.offsetTop +\n\t\t\t\t'px;left:' +\n\t\t\t\tel.offsetLeft +\n\t\t\t\t'px;height:' +\n\t\t\t\tel[cHeight] +\n\t\t\t\t'px;width:' +\n\t\t\t\tel[cWidth] +\n\t\t\t\t'px'\n\t\t);\n\t// add or remove loader from DOM\n\tel.parentElement[bool ? appendEl : removeEl](loadingIcon);\n\tisLoading = bool;\n}\n\n// animate open of image / video; display caption if needed\nfunction open(err) {\n\t// hide loading spinner\n\tisLoading && toggleLoadingIcon();\n\n\t// execute animationStart callback\n\tanimationStart && animationStart();\n\n\t// check if we have an error string instead of normal event\n\tif (typeof err === 'string') {\n\t\tremoveContainer();\n\t\treturn alert('Error: The requested ' + err + ' could not be displayed.');\n\t}\n\n\t// if remote image is loaded, add url to imgCache array\n\tremoteImage && !cached && imgCache.push(imgSrc);\n\n\t// transform displayEl to match trigger el\n\tchangeCSS(displayElement, getRect());\n\n\t// fade in container\n\tchangeCSS(container, 'opacity:1;' + pointerEventsAuto);\n\n\t// set animationEnd callback to run after animation ends (cleared if container closed)\n\tanimationEnd = timeout(animationEnd, 410);\n\n\tisOpen = true;\n\n\t// enlarge displayEl, fade in caption if hasCaption\n\ttimeout(function() {\n\t\tchangeCSS(displayElement, webkitify('transition:', 'transform .35s;') + webkitify('transform:', 'none;'));\n\t\tcaptionContent && timeout(changeCSS.bind(null, caption, 'opacity:1'), 250);\n\t}, 60);\n}\n\n// close active display element\nfunction close(e) {\n\tvar target = e.target;\n\tvar clickEls = [ caption, captionHideButton, displayVideo, captionText ];\n\n\t// blur to hide close button focus style\n\ttarget && target.blur();\n\n\t// don't close if one of the clickEls was clicked or container is already closing\n\tif (isClosing || ~clickEls.indexOf(target)) {\n\t\treturn;\n\t}\n\n\t// animate closing\n\tdisplayElement.style.cssText += getRect();\n\tchangeCSS(container, pointerEventsAuto);\n\n\t// timeout to remove els from dom; use variable to avoid calling more than once\n\ttimeout(removeContainer, 350);\n\n\t// clear animationEnd timeout\n\tclearTimeout(animationEnd);\n\n\tisOpen = false;\n\tisClosing = true;\n}\n\n// remove container / display element from the DOM\nfunction removeContainer() {\n\t// remove container from DOM & clear inline style\n\tdoc.body[removeEl](container);\n\tcontainer[removeEl](displayElement);\n\tchangeCSS(container, '');\n\n\t// clear src of displayElement (or iframe if display el is iframe container)\n\t(displayElement === iframeContainer ? iframeSiteVid : displayElement).removeAttribute('src');\n\n\tif (captionContent) {\n\t\tchangeCSS(caption, '');\n\t\tcontainer[removeEl](caption);\n\t}\n\tisClosing = false;\n}\n\n// style helper functions\nfunction changeCSS(element, newStyle) {\n\telement.style.cssText = newStyle;\n}\nfunction webkitify(prop, val) {\n\tvar webkit = '-webkit-';\n\tvar propVal = prop + val;\n\treturn webkit + propVal + prop + webkit + val + propVal;\n}\nfunction webkitifyKeyframes(css) {\n\treturn '@-webkit-' + css + '@' + css;\n}\n\nexport default big;\n","module.exports = require(\"react-dom\");"],"sourceRoot":""}